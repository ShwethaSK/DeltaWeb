<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial scale=1.0">
<style type='text/css'>
body
{
	-webkit-animation:colorchange 15s infinite;
}
@-webkit-keyframes colorchange
{
	0%{background-color:lightgreen;}
	25%{background-color:pink;}
	50%{background-color:aquamarine;}
	75%{background-color:lightyellow;}
	100%{background-color:lightblue;}
}    
 h1
{
	font-family:cursive;
	color:red;
}
</style>
<script type="text/javascript">
var node,textnode,editElem,parent,child,userVersion,select,x1=0,i,l,par,DIV;
function add_function()
{
	x1++;
	DIV=document.createElement("DIV");
	DIV.setAttribute("id","DIV"+x1);
	var x=prompt("Please enter your note","User");
	textnode=document.createTextNode(x);
	DIV.appendChild(textnode);
	node=document.getElementById("update");
	node.appendChild(DIV);
	select=prompt("Enter your priority color- Red for high priority,yellow for medium priority and green for low priority","color");
	document.getElementById("div").appendChild(node);
if(select=="green"){
	document.getElementById("DIV"+x1).setAttribute("value","0");
   	document.getElementById("DIV"+x1).setAttribute("style","background-color:green");
        }
   else if(select=="red"){
   document.getElementById("DIV"+x1).setAttribute("value","2");
   document.getElementById("DIV"+x1).setAttribute("style","background-color:red");
   }
   else if(select=="yellow"){
   	document.getElementById("DIV"+x1).setAttribute("value","1");
   	  document.getElementById("DIV"+x1).setAttribute("style","background-color:yellow");
      }
   }
/*function sort_function()
   {
   var toSort=document.getElementById("div").childNodes;
   toSort=Array.prototype.slice.call(toSort);
   toSort.sort(function(a,b){
   	return parseInt(a["value"],10)-parseInt(b["value"],10);
   });
   for(i=0,l=toSort.length;i<l;i++)
 document.getElementById("H1").appendChild(toSort[i]);
   }*/
function delete_function()
{
	child=document.getElementById("DIV"+x1);
	x1--;
	child.parentNode.removeChild(child);
}
function save_edit_function()
{
	editElem=document.getElementById("div");
	editElem.contentEditable="false";
	userVersion=editElem.innerHTML;
	localStorage.userEdits=userVersion;
	alert("Edits saved");
	document.getElementById("div").innerHTML;
}
function edit_function()
{
	editElem=document.getElementById("div");
	document.getElementById("div").contentEditable="true";
	alert("Content is now editable");
	userVersion=editElem.innerHTML;
	localStorage.userEdits=userVersion;
}
/*function checkEdits()
{
	if(localStorage.userEdits!=null)
		document.getElementById("div").innerHTML=localStorage.userEdits;
}*/
</script>
<title>
Joe Hacker's world
</title>
</head>
<body onload="checkEdits()">
<center><h1 style='border:3px solid black' id="H1">Welcome to Joe Hacker's personal webpage</h1></center>
<u1 id="myList">
<p id="update">
<div id="div">To do list
</u1>
</div>
<hr />
<form>
<input type="button" value="Add notes" title="Click here to add notes" onclick="add_function()">
<input type="button" value="Edit notes" title="Click to edit notes" onclick="edit_function()">
<input type="button" value="Delete notes" title="Click here to delete notes" onclick="delete_function()">
<input type="button" value="Save notes" title="Click to save notes" onclick="save_edit_function()">
<input type="button" value="Sort notes" title="Click to sort notes" onclick="sort_function()">
</form>
</body>
</html>